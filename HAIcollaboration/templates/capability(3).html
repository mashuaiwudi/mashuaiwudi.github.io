<!DOCTYPE html> 
<html> 
<head>

<title>Human-AI Decision-Making</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="../static/css/index.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="shortcut icon" href="#"/>
<script src="../static/js/FileSaver.js"></script>
<script src="../static/js/jquery.min.js"></script>
<script src="../static/js/bootstrap.min.js"></script>

<style type="text/css">
table{
  width: 100%;
  border-collapse: collapse;
}

table tr{
  border-bottom: solid 2px white;
}

table tr:last-child{
  border-bottom: none;
}

table th{
  position: relative;
  width: 30%;
  background-color: #7d7d7d;
  color: white;
  text-align: center;
  padding: 10px 0;
}

table th:after{
  display: block;
  content: "";
  width: 0px;
  height: 0px;
  position: absolute;
  top:calc(50% - 10px);
  right:-10px;
  border-left: 10px solid #7d7d7d;
  border-top: 10px solid transparent;
  border-bottom: 10px solid transparent;
}

table td{
  text-align: left;
  width: 70%;
  text-align: center;
  background-color: #eee;
  padding: 10px 0;
}

.main {
  margin: 20px auto;
  width: 80%;
}



.slidecontainer {
  width: 100%;
}

.slider {
  -webkit-appearance: none;
  width: 100%;
  height: 25px;
  background: #d3d3d3;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
}

.slider:hover {
  opacity: 1;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 25px;
  height: 25px;
  background: #04AA6D;
  cursor: pointer;
}

.slider::-moz-range-thumb {
  width: 25px;
  height: 25px;
  background: #04AA6D;
  cursor: pointer;
}

.feature{
  width: 20%;
  height: 30px;
  margin-left: 3%;
  margin-top: 5px;
  margin-bottom: 5px;
  float: left;
  border-radius:5px;
  border-color: #7d7d7d;
  text-align: center;
  background-color:white;
}

.relation{
  width: 20%;
  height: 30px;
  margin-left: 2%;
  margin-top: 5px;
  margin-bottom: 5px;
  float: left;
  border-radius:5px;
  border-color: #7d7d7d;
  text-align: center;
  background-color:white;
}

.value{
  width: 42%;
  height: 30px;
  margin-left: 2%;
  margin-right: 2%;
  margin-top: 5px;
  margin-bottom: 5px;
  float: left;
  border-radius:5px;
  border-color: #7d7d7d;
  text-align: center;
  background-color:white;
}


</style>

<body>
  <div class="container">
    <!--top information-->
    <h2 id="title1">
      Human-AI Decision-Making <small> Making decisions with the assistance of AI</small>
    </h2>
    <div id="attention" class="well">
      <b>ATTENTION:</b> During the whole experiment, please <b>DO NOT</b> refresh the browser. Otherwise, all data will be lost. 
    </div>
    <ul class="nav nav-tabs" style="display: none;">
      <li class="active not-active"><a data-toggle="tab" href="#home">Home</a></li>
      <li class="not-active"><a data-toggle="tab" href="#tutorial"></a></li>
      <li class="not-active"><a data-toggle="tab" href="#traindemo1">1/2</a></li>
      <li class="not-active"><a data-toggle="tab" href="#newdemo1">1/40</a></li>
      <li class="not-active"><a data-toggle="tab" href="#userrule"></a></li>
      <li class="not-active"><a data-toggle="tab" href="#questionnaire"></a></li>
    </ul>

    <div class="tab-content">

      <!--welcome page-->
      <div id="home" class="tab-pane fade in active">
        <h3>Welcome</h3>
        <form class="form-inline list-group-item list-group-item-success was-validated" id="form_info">
          <h4>Your information: </h4>
          <div class="form-group">
            <label for="id">Prolific ID:</label>
            <input type="text" name="id" class="form-control" required>
          </div>
          <div class="form-group">
            <label for="age">Age:</label>
            <input type="number" name="age" class="form-control" min="10" max="90" required>
          </div>
          <div class="form-group">
            <label for="gender">Gender:</label>
            <select class="form-control" name="gender" id="gender" required>
              <option></option>
              <option>Male</option>
              <option>Female</option>
              <option>Prefer not to say</option>
              <option>Others</option>
            </select>
          </div>
          <div class="form-group">
            <label for="experience">What is your knowledge level of AI?</label>
            <select class="form-control" name="experience" id="experience" required>
              <option></option>
              <option>I am an expert in AI</option>
              <option>I know or used AI algorithms</option>
              <option>I know basic concepts in AI</option>
              <option>I have no knowledge of AI</option>
            </select>
          </div>
        </form>
        <p style="font-size:20px; color: deepskyblue;">
          <br>
          Welcome to participate in this experiment! In this experiment, you will be presented with 40 adults' profile (including age, year of education, marital status, occupation, and work hours per week) one by one. Your task is to predict whether a person's income is > 50k USD per year or ≤ 50k USD per year.
          <br>
          <br>   
          After 20 tasks, you will be invited to create a decision tree that can illustrate how you make decisions.
          <br>         
        </p>
        <br>
        <p style="font-size:16px;">
          The whole process will take you about 15-20 minutes. And we will pay a 1 USD bonus if your prediction accuracy >= 80%.
        </p>
        <p style="font-size:16px; color:red;">
          We will conduct attention check. If you fail the attention check, we will not pay for you. 
        </p>
        <p style="font-size:16px;">
          <br>
          Before the actual task, let's first go through a toturial, which can help you perform better in the formal experiment.
        </p>
        <p style="font-size:16px;">
          <br>
          <b>Let's get started!</b> 
          <br>
        </p>
        <ul class="pager"> <li>
          <a id="page-train" href="#tutorial">Start a tutorial</a>
        </li> </ul>        
      </div>

      <!--tutorial page-->
      <div id="tutorial" class="tab-pane fade">
        <p style="font-size:20px;">
          <br>
          For each task, you will be shown a table showing a person's profile. There are 8 attributes in total and we list all the possible values for each.
          <br>
        </p>
        <div class="info_detail">
          <table id="tab0">
            <tr>
              <th>Age</th>
              <td>Continuous number</td>
            </tr>
            <tr>
              <th>Year of Education</th>
              <td>Continuous number</td>
            </tr>
            <tr>
              <th>Marital status</th>
              <td>Married civilian spouse, Divorced, Never married, Separated</td>
            </tr>
            <tr>
              <th>Occupation</th>
              <td>Technical support, Other service, Executive managerial</td>
            </tr>
            <tr>
              <th>Work hours per week</th>
              <td>Continuous number</td>
            </tr>
          </table>
        </div>
        <p style="font-size:16px;">
          <br>
          To help you get some sense of the task, here we provide you with the income distribution on each attribute.
          <br>
        </p>
        <table>
          <thead>
            <tr>
              <th scope="col">Attributes</th>
              <th colspan="1" scope="colgroup">Distribution</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">Age</th>
              <td style="text-align:center;">
                <img src="../static/img/age.png">
              </td>
            </tr>
            <th scope="row">EducationNum</th>
              <td style="text-align:center;">
                <img src="../static/img/educationnum.png">
              </td>
            </tr>
            <th scope="row">Marital status</th>
              <td style="text-align:center;">
                <img src="../static/img/maritalstatus.png">
              </td>
            </tr>
            <th scope="row">Occupation</th>
              <td style="text-align:center;">
                <img src="../static/img/occupation.png">
              </td>
            </tr>
            <th scope="row">work hours per week</th>
              <td style="text-align:center;">
                <img src="../static/img/workhoursperweek.png">
              </td>
            </tr>
          </tbody>
        </table>
        <div id="attention_check" class="col-xs-12" style="display: block;">
          <form id="firstcheck" class="container-fluid list-group-item list-group-item-success" style="display: block;">
            <ul class="list-group list-group-flush">
              <li class="list-group-item list-group-item-info">
                <div class="form-group">
                  <div style="display: inline-block;">
                    <h4 id="question1"> 
                      Q1. What is the purpose of this task?
                    </h4>
                  </div>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="firstdecision" value="0" id="attention_question_1-1">
                    <label id="attentioncheck1" class="form-check-label" for="attention_question_1-1">To predict whether a person's income is > 50k/year
                    </label>
                  </div>

                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="firstdecision" value="1" id="attention_question_1-2">
                    <label id="attentioncheck2" class="form-check-label" for="attention_question_1-2">To make sure you understand the AI
                    </label>
                  </div>

                </div>
              </li>
            </ul>
          </form>
          <form id="secondcheck" class="container-fluid list-group-item list-group-item-success" style="display: block;">
            <ul class="list-group list-group-flush">
              <li class="list-group-item list-group-item-info">
                <div class="form-group">
                  <div style="display: inline-block;">
                    <h4 id="question1"> 
                      Q2. What is the answer of 25 + 30?
                    </h4>
                  </div>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="firstdecision" value="0" id="attention_question_2-1">
                    <label id="attentioncheck1" class="form-check-label" for="attention_question_2-1">Larger than 50
                    </label>
                  </div>

                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="firstdecision" value="1" id="attention_question_2-2">
                    <label id="attentioncheck2" class="form-check-label" for="attention_question_2-2">Smaller than 50
                    </label>
                  </div>

                </div>
              </li>
            </ul>
          </form>
        </div>
        <p style="font-size:16px;">
          <br>
          Now you have finished the tutorial. Let's move to some training demos. 
          <br>
        </p>
        <ul class="pager"> <li>
          <a id="pager-training-20tasks" href="#traindemo1">Next</a>
        </li> </ul>
      </div>

      <!--dynamic change train tablet-->
      <div id="traindemo1" class="tab-pane fade">
        <div class="row">
          <div id="profile_training" class="col-xs-6">
            <h3 id="progress-text-training" align="center">1/20</h3>
            <div class="main">
              <table id="tab1-training">
                <tr>
                  <th>Age</th>
                  <td>not known</td>
                </tr>
                <tr>
                  <th>Year of Education</th>
                  <td>15</td>
                </tr>
                <tr>
                  <th>Marital status</th>
                  <td>Married-civ-spouse</td>
                </tr>
                <tr>
                  <th>Occupation</th>
                  <td>Sales</td>
                </tr>
                <tr>
                  <th>Work hours per week</th>
                  <td>40</td>
                </tr>
              </table>
            </div>
          </div>
          <div id="user_prediction_training" class="col-xs-6" style="display: block;">
            <h3>Make your prediction</h3>
            <p></p>
            <form id="firstdecision1_training" class="container-fluid list-group-item list-group-item-success" style="display: block;">
              <ul class="list-group list-group-flush">
                <li class="list-group-item list-group-item-info">
                  <div class="form-group">
                    <div style="display: inline-block;">
                      <h4 id="question1">
                        Q1. What is your prediction?
                      </h4>
                    </div>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="firstdecision" value="0" id="radio-first-decision-1_training">
                      <label id="attentioncheck1" class="form-check-label" for="radio-first-decision-1_training">≤ 50k
                      </label>
                    </div>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="firstdecision" value="1" id="radio-first-decision-2_training">
                      <label id="attentioncheck2" class="form-check-label" for="radio-first-decision-2_training">> 50k
                      </label>
                    </div>
                  </div>
                </li>
                <li class="list-group-item list-group-item-success">
                  <div class="form-group">
                    <div style="display: inline-block;">
                      <button id="show_groundtruth" type="button" class="btn btn-primary" data-dismiss="modal"> Show Answer </button>
                      <h4 id="groundtruth"><h4>
                    </div>
                  </div>
                </li>
              </ul>
            </form>
            <button id="next-task_training" type="button" class="btn btn-primary" data-dismiss="modal"> Finish and Next </button>
          </div>
        </div>
        <br>
        <div id="goodjob" style="display: none;">
          <p style="font-size:16px;">
            <br>
            Good job! We believe that you have been very familiar with this task. Let's start the actual task!
            <br>
          </p>
        </div>
        <button id="pager-0" type="button" class="btn btn-primary" data-dismiss="modal"
          style="display: none;">Next
        </button>
      </div>

      <!--dynamic change test tablet-->
      <div id="newdemo1" class="tab-pane fade">
        <div class="row">
          <div id="profile" class="col-xs-6">
            <h3 id="progress-text" align="center">1/100</h3>
            <div class="main">
              <table id="tab1">
                <tr>
                  <th>Age</th>
                  <td>not known</td>
                </tr>
                <tr>
                  <th>Year of Education</th>
                  <td>15</td>
                </tr>
                <tr>
                  <th>Marital status</th>
                  <td>Married-civ-spouse</td>
                </tr>
                <tr>
                  <th>Occupation</th>
                  <td>Sales</td>
                </tr>
                <tr>
                  <th>Work hours per week</th>
                  <td>40</td>
                </tr>
              </table>
            </div>
          </div>
          <div class="col-xs-6" id="user_prediction">
            <h3>Step 1: Make your own prediction</h3>
            <div class="well">
              <button type="button" class="btn btn-primary" data-dismiss="modal" onclick='document.getElementById("firstdecision1").style.display="block";'>Your decision</button>
              <p></p>
              <form id="firstdecision1" class="container-fluid list-group-item list-group-item-success" style="display: none;">
                <ul class="list-group list-group-flush">
                  <li class="list-group-item list-group-item-info">
                    <div class="form-group">
                      <div style="display: inline-block;">
                        <h4> 
                          Q1. What is your prediction?
                        </h4>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="firstdecision" value="0" id="radio-first-decision-1">
                        <label class="form-check-label" for="radio-first-decision-1">≤ 50k
                        </label>
                      </div>
      
                      <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="firstdecision" value="1" id="radio-first-decision-2">
                        <label class="form-check-label" for="radio-first-decision-2">> 50k
                        </label>
                      </div>
      
                    </div>
                  </li>
                  <li id="showanswer_area" class="list-group-item list-group-item-success">
                    <div class="form-group">
                      <div style="display: inline-block;">
                        <button id="show_groundtruth_task" type="button" class="btn btn-primary" data-dismiss="modal"> Show Answer </button>
                        <h4 id="groundtruth_task"><h4>
                      </div>
                    </div>
                  </li>
                </ul>
              </form>
            </div>   
            <button id="next-task" type="button" class="btn btn-primary" data-dismiss="modal"> Finish and Next </button>
          </div>
        </div>
        <br>
        <button id="go_to_next" type="button" class="btn btn-primary" data-dismiss="modal" style="display: none;">Finish</button>
      </div>  

      <!--progress bar & contact-->
      <div id="bottom">
        <ul class="pager"> <li>
        </li> </ul>
        <div class="progress">
          <div id="progressbar1" class="progress-bar progress-bar-striped progress-bar-animated " role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%">0%</div>
        </div>
        Forany questions, please <a href="mailto:shuaihci@gmail.com">contact us</a>.
      </div>

      <!--finish modal-->
      <div class="modal" id="finishModal" tabindex="-1" role="dialog" aria-labelledby="finishModal" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h3 class="modal-title" id="finishModal"><strong>Well done</strong></h3>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <p>Please copy the following Completion code to finish the process in Prolific. (Please wait for a minute as the server is processing your upload.)</p>
              <div class="alert alert-success" role="alert" id="user_id"> </div>
              <p class="mb-0">Thanks for your time and efforts. You can close this window right now. </p>
            </div>
            <div class="modal-footer">
              <button id="exit_button" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!--user rule-->
      <div id="userrule" style="display:none;">
        <h4>The following are some rules generated by our system, you could change it to your mental model.</h4>
        <!--用户的第一条规则-->
        <div id="rule1" class="col-xs-12" style="display: block;margin-top: 10px;">
          <form id="rulegroup1" class="container-fluid list-group-item list-group-item-success" style="display: block;">
            <h3>Rule 1</h3>
            <!--第一条规则的决定-->
            <ul class="list-group list-group-flush" id="ruledecision1">
              <li class="list-group-item list-group-item-info">
                <div class="form-group">
                  <div class="decision">
                    <label class="form-check-label" style="width:40%;float:left;text-align: center;">Decision:</label>
                    <div class="form-check form-check-inline" style="width:30%;float:left;margin-top: -2px;">
                      <input class="form-check-input" type="radio" name="ruledecision1" value="0" id="ruledecision1-1" onchange="chgDecision('1')"> 
                      <label id="choice1-1" class="form-check-label">≤ 50k
                      </label>
                    </div>
                    <div class="form-check form-check-inline" style="width:30%;float:left;margin-top: -2px;">
                      <input class="form-check-input" type="radio" name="ruledecision1" value="1" id="ruledecision1-2" onchange="chgDecision('1')"> 
                      <label id="choice1-2" class="form-check-label">> 50k
                      </label>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
            <!--第一条规则的第一个条件-->
            <ul class="list-group list-group-flush" id="condition1-1">
              <h4>Condition 1</h4>
              <li class="list-group-item list-group-item-info" style="height:60px;">
                <div class="form-group">
                  <div class="feature" id="feature1-1">
                    <select class="form-control" id="featureselect1-1" required onchange="chgFeature('1-1')">
                      <option style="color:#7d7d7d">Please choose feature</option>
                      <option value="1" >Age</option>
                      <option value="2" >EducationNumber</option>
                      <option value="3" >MaritalStatus</option>
                      <option value="4" >Occupation</option>
                      <option value="5" >WorkHoursPerWeek</option>
                    </select>
                  </div>
                  <div class="relation" id="relation1-1">
                    <select class="form-control" id="relationselect1-1" required onchange="chgRelation('1-1')">
                      <option style="color:#7d7d7d">Please choose relation</option>
                    </select>
                  </div>
                  <div class="value" id="value1-1">
                    <select class="form-control" id="valueselect1-1" required onchange="chgValue('1-1')">
                      <option style="color:#7d7d7d">Please choose value</option>
                    </select>
                  </div>
                  <button class="btn btn-primary" id="deletecondition1-1" style="margin-top:5px;">Delete</button>
                </div>
              </li>
            </ul>
            <button class="btn btn-primary" id="addcondition1">Add</button>
            <button class="btn btn-primary" id="checkcondition1">Check</button>
            <button class="btn btn-primary" id="deleteallcondition1" style="float:right;">Delete the whole rule</button>
          </form>
        </div>
        <div id="bottombutton1" style="text-align:center;">
          <button class="btn btn-primary" id="addrule1" style="margin-top: 20px;">Add Rule</button>
          <button class="btn btn-primary" id="finishrule1" style="margin-top: 20px;">Finish and Next</button>
        </div>
      </div>
    </div>
  </div>

  <script src="../static/js/capability.js" defer></script>
  <script src="../static/js/selectMultip_simple.js" defer></script>
</body>


</head>
</html>